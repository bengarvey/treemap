<!DOCTYPE html>
<html>
<head>

  <title>Treemap Test</title>

  <script src="treemap.js" language="JavaScript"></script>

  <script language="javascript">

    function init() {
      
      var tm = new Treemap;
      tm.canvasname = 'tm';

      // Branch array
      var boxes = new Array();

      var d = document.getElementById("debug");

      // Test data arrays
      var values = new Array();
  
      for(var i=0; i<10; i++) {
        values[i] = Math.floor(Math.random()*100000) + 10;
      }

      for(var i=10; i<100; i++) {
        values[i] = Math.floor(Math.random()*10000) + 10;
      }
  
      // Generate random and labels for each test data entry
      var colors  = new Array();
      var labels  = new Array();

      for(var v in values) {
        colors.push(randomColor());
        labels[v] = "name" + v;

        boxes[v]       = new Box;
        boxes[v].color = colors[v];
        boxes[v].label = labels[v];
        boxes[v].value = values[v];
      }
  
      for(var b in boxes) {    
        d.innerHTML += boxes[b].label + " " + boxes[b].value + " " + boxes[b].color + "<br>\n";
      }

      tm.boxes = boxes;
      tm.draw();
  
    } 

	  // randomColor	Returns a random hex color
	  //
	  // Parameters
	  // none
	  function randomColor() {

		  // initialize some variables
		  var color 	= "#";
		  var c 		= "";
		  var i		= 0;
		
		  // Loop through and pick a random hex value.  Then add it to the string.
		  while(i<6) { 
			  c = Math.round(Math.random()*13);
			  c = c.toString(16);
			  color += c;
		  	i++;
	  	}
		
		  return color;
	  }
	
  </script>

</head>

<body onload="javascript:init();">

  <h1>Treemap Test</h1>
  <div><canvas width="800" height="2000" id="tm"></canvas></div>
  <div id="debug">Debug data<br></div>
</body>

</html>

